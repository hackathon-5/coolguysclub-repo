<section data-ng-controller="CarpoolsController" data-ng-init="findOne()">
  <div class="page-header">
    <h1>
      {{carpool.destination}}
      <small>go time: {{carpool.departureTime | date:'h:mm a'}}</small>
    </h1>
  </div>

  <div class="carpool-view-returnTime">
      Returning around: <span>{{carpool.departureTime | date:'h:mm a'}}</span>
  </div>

  <div class="form-group carpool-view-note">
    <label for="carpoolNote">Notes:</label>
    <textarea class="form-control" rows="3" id="carpoolNote" ng-model="carpool.note" ng-change="update()"></textarea>
  </div>

  <div class="carpool-view-driver">
      <h3>
          {{carpool.user.displayName}} is the driver. <br/>
          <small>({{carpool.user.email}})</small>
      </h3>
  </div>

  <div ng-show="carpool.riders" class="carpool-view-riders">
      <h3>
          Here are the riders...
      </h3>
      <ul>
          <li ng-repeat="rider in carpool.riders" ng-class="{bold: isRider(rider)}">
              {{rider.displayName}} &nbsp;-&nbsp; <span class="text-muted rider-email">{{rider.email}}</span>
          </li>
      </ul>
  </div>

  <div ng-hide="carpool.riders">
    <h3>
      No riders yet.
    </h3>
  </div>





  <div class="pull-right" data-ng-show="((authentication.user) && (authentication.user._id != carpool.user._id))">
    <button type="button" class="btn btn-warning" ng-click="unjoinCarpool(carpool)">Unjoin?!</button>
  </div>

  <div class="pull-right" data-ng-show="((authentication.user) && (authentication.user._id == carpool.user._id))">
    <a class="btn btn-primary" data-ng-click="remove();">
      <i class="glyphicon glyphicon-trash"></i>
    </a>
  </div>

  <small>
    <em class="text-muted">
      Posted on
      <span data-ng-bind="carpool.created | date:'mediumDate'"></span>
      by
      <span data-ng-bind="carpool.user.displayName"></span>
    </em>
  </small>
</section>
